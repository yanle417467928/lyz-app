<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.com.leyizhuang.app.foundation.dao.SellZgDetailsDAO">
        <insert id="addOneDetail" parameterType="cn.com.leyizhuang.app.foundation.pojo.SellDetailsDO">
            INSERT INTO  sell_zg_details
            (company_id, "year", "month", create_time, city_id, store_id, seller_id
            , customer_id, number, goods_id, sku, quantity, amount, goods_line_id)
            VALUES
            (#{companyId},#{year},#{month},#{createTime},#{cityId},#{storeId},#{sellerId},#{customerId},#{number}
            ,#{goodsId},#{sku},#{quantity},#{amount},#{goodsLineId})
        </insert>

        <update id="update" parameterType="cn.com.leyizhuang.app.foundation.pojo.SellDetailsDO">
            UPDATE SET
            <set>
                <if test="companyId != null">
                    company_id = #{companyId},
                </if>
                <if test="year != null">
                    `year` = #{year},
                </if>
                <if test="month != null">
                    `month` = #{month},
                </if>
                <if test="createTime != null">
                    create_time = #{createTime},
                </if>
                <if test="cityId">
                    city_id = #{cityId},
                </if>
                <if test="storeId">
                    store_id = #{storeId},
                </if>
                <if test="sellerId">
                    seller_id = #{sellerId},
                </if>
                <if test="customerId != null">
                    customer_id = #{customer_id},
                </if>
                <if test="number != null">
                    `number` = #{number},
                </if>
                <if test="goodsId != null">
                    goods_id = #{goodsId},
                </if>
                <if test="sku != sku">
                    sku = #{sku},
                </if>
                <if test="quantity != null">
                    quantity = #{quantity},
                </if>
                <if test="amount != null">
                    amount = #{amount},
                </if>
                <if test="goodsLineId != null">
                    goods_line_id = #{goodsLineId}
                </if>
            </set>

        </update>

        <select id="getDetailsByCusIdAndSku">
            SELECT  * from sell_zg_details
            where customer_id = #{CusId} and sku = #{sku}
        </select>

</mapper>